Push notifications are not being delivered when articles are published. The subscription works (verified - server returns 201), but no notifications arrive. Fix these issues:

(1) In server/routes.ts, find the sendPushToAll call inside the PATCH /api/content-pieces/:id route (around line 395). Change .catch(() => {}) to .catch((err) => console.error("PUSH SEND ERROR:", err)). Do the same for every other .catch(() => {}) on sendPushToAll calls in the file.

(2) Also in server/routes.ts, find the POST /api/content-pieces route (around line 379). Add push notification triggering here too â€” when a new content piece is CREATED with status "published", it should also send a push. After the line "const data = await storage.createContentPiece(parsed.data);", add: if (data.status === "published") { const pushType = data.type === "article" || data.type === "blog" ? "articles" : data.type === "episode" ? "episodes" : undefined; if (pushType) { const snippet = (data.body || data.summary || "").slice(0, 120); sendPushToAll({ title: data.title || "New Content", body: snippet, url: "/news/" + (data.slug || data.id), tag: "content-" + data.id }, { type: pushType }).catch((err) => console.error("PUSH SEND ERROR:", err)); } }

(3) Add a test endpoint so we can verify push delivery works independently of the publish flow. Add this route: app.post("/api/public/push/test", async (req, res) => { try { const result = await sendPushToAll({ title: "Test Notification", body: "If you see this, push notifications are working!", url: "/home", tag: "test-" + Date.now() }); console.log("PUSH TEST RESULT:", result); res.json(result); } catch (err) { console.error("PUSH TEST ERROR:", err); res.status(500).json({ error: String(err) }); } });

(4) After making these changes, restart the server. Then test by opening a browser tab and navigating to the app URL + /api/public/push/test using a POST request. You can test this by running in the Shell: curl -X POST https://localhost:5000/api/public/push/test (or whatever port the server runs on). Log the result.